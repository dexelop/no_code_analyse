# ğŸ“Š JSON ë°ì´í„° ìƒì„¸ ë¶„ì„ ë³´ê³ ì„œ

> ìƒì„±ì¼: 2025-11-18
> í”„ë¡œì íŠ¸: AI ê¸°ë°˜ ì‹¤ì‹œê°„ ê°€ê²°ì‚° ë° ì„¸ë¬´ ì˜ˆì¸¡ ëŒ€ì‹œë³´ë“œ
> ë°ì´í„° ìœ„ì¹˜: `jsons/` í´ë”

---

## ğŸ“‘ ëª©ì°¨

1. [ë°ì´í„° ê°œìš”](#ë°ì´í„°-ê°œìš”)
2. [ë¶„ê°œì¥ ë°ì´í„° (2021-2025)](#ë¶„ê°œì¥-ë°ì´í„°)
3. [ì‹ ìš©ì¹´ë“œ ë°ì´í„°](#ì‹ ìš©ì¹´ë“œ-ë°ì´í„°)
4. [ì¬ë¬´ì œí‘œ ë°ì´í„°](#ì¬ë¬´ì œí‘œ-ë°ì´í„°)
5. [ì„¸ë¬´ ë°ì´í„°](#ì„¸ë¬´-ë°ì´í„°)
6. [ë°ì´í„° ê°„ ê´€ê³„ë„](#ë°ì´í„°-ê°„-ê´€ê³„ë„)
7. [í™œìš© ê°€ëŠ¥í•œ ë¶„ì„](#í™œìš©-ê°€ëŠ¥í•œ-ë¶„ì„)

---

## ë°ì´í„° ê°œìš”

### ì „ì²´ ë°ì´í„° í˜„í™©

| ë¶„ë¥˜ | íŒŒì¼ëª… | ë ˆì½”ë“œ ìˆ˜ | ê¸°ê°„ | í¬ê¸° | ë°ì´í„° íƒ€ì… |
|------|--------|-----------|------|------|------------|
| **ë¶„ê°œì¥** | 2021.json | 6,471 | 2021ë…„ | 5.3MB | List |
| **ë¶„ê°œì¥** | 2022.json | 8,417 | 2022ë…„ | 6.9MB | List |
| **ë¶„ê°œì¥** | 2023.json | 6,598 | 2023ë…„ | 5.4MB | List |
| **ë¶„ê°œì¥** | 2024.json | 7,608 | 2024ë…„ (ì „ê¸°) | 6.3MB | List |
| **ë¶„ê°œì¥** | 2025.json | 3,520 | 2025ë…„ (ë‹¹ê¸°) | 2.9MB | List |
| **ì¹´ë“œ** | ì‹ ìš©ì¹´ë“œ_2024.json | 1,587 | 2024ë…„ | 1.9MB | Dict (data array) |
| **ì¹´ë“œ** | ì‹ ìš©ì¹´ë“œ_2025.json | 1,210 | 2025ë…„ | 1.4MB | List |
| **ì¬ë¬´** | ì†ìµê³„ì‚°ì„œ_24ë…„_25ë…„.json | 28 | 2024-2025 | 15.6KB | List |
| **ì¬ë¬´** | í•©ê³„ì”ì•¡ì‹œì‚°í‘œ_24ë…„.json | 3ê°œ ì„¹ì…˜ | 2024ë…„ | 22.9KB | Dict |
| **ì„¸ë¬´** | 24ë…„ì†Œë“ì„¸strp0102.json | 1 | 2024ë…„ | 4.7KB | List |
| **ì„¸ë¬´** | rec_prd.json | 22 í˜ì´ì§€ | 2024ë…„ | 211.5KB | Dict |

**ì´ ë°ì´í„°ëŸ‰:**
- ë¶„ê°œì¥: 32,614ê±´ (5ë…„ì¹˜)
- ì¹´ë“œ ë‚´ì—­: 2,797ê±´ (2ë…„ì¹˜)
- ì¬ë¬´/ì„¸ë¬´: 54ê±´

---

## ë¶„ê°œì¥ ë°ì´í„°

### 1. ë°ì´í„° êµ¬ì¡°

ë¶„ê°œì¥ íŒŒì¼(2021-2025)ì€ ëª¨ë‘ **ë¦¬ìŠ¤íŠ¸ í˜•íƒœ**ì´ë©°, ê° ë ˆì½”ë“œëŠ” í•˜ë‚˜ì˜ íšŒê³„ ê±°ë˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

### 2. ì£¼ìš” í•„ë“œ ì„¤ëª…

#### 2024.json / 2025.json ê³µí†µ í•„ë“œ

```json
{
  "da_date": "20240101",           // ê±°ë˜ì¼ì (YYYYMMDD)
  "year": "2024",                   // ë…„ë„
  "month": "01",                    // ì›”
  "day": "01",                      // ì¼

  "cd_acctit": "83000",            // ê³„ì •ê³¼ëª© ì½”ë“œ
  "nm_acctit": "ì†Œëª¨í’ˆë¹„(ì†Œ)",     // ê³„ì •ê³¼ëª© ëª…ì¹­

  "mn_bungae1": 151790,            // ì°¨ë³€ ê¸ˆì•¡
  "mn_bungae2": 0,                 // ëŒ€ë³€ ê¸ˆì•¡

  "nm_trade": "ëª¨ì¢…ë§ˆíŠ¸(ì£¼)ëª¨ì¢…ë§ˆíŠ¸ ê´‘ì‚°ì ", // ê±°ë˜ì²˜ëª…
  "cd_trade": "000133",            // ê±°ë˜ì²˜ ì½”ë“œ

  "nm_yuh": "ì¼ë°˜ì „í‘œ",            // ì „í‘œ ìœ í˜•
  "nm_gubun_prn": "ëŒ€ì²´",          // ì „í‘œ êµ¬ë¶„ (ì…ê¸ˆ/ì¶œê¸ˆ/ëŒ€ì²´)
  "nm_gubun_bungae": "ì§€ì¶œ",       // ë¶„ê°œ êµ¬ë¶„

  "nm_remark": "",                 // ì ìš” (ë¹„ê³ )
  "cd_remark": "",                 // ì ìš” ì½”ë“œ

  "dt_insert": "2025-05-26T14:20:55", // ì…ë ¥ ì¼ì‹œ
  "ty_gubn": 3,                    // ì „í‘œ íƒ€ì…
  "yn_holiday": 1                  // íœ´ì¼ ì—¬ë¶€
}
```

#### í•„ë“œë³„ ìƒì„¸ ì„¤ëª…

**ë‚ ì§œ ê´€ë ¨:**
- `da_date`: ì‹¤ì œ ê±°ë˜ ë°œìƒì¼
- `dt_insert`: íšŒê³„ ì‹œìŠ¤í…œì— ì…ë ¥í•œ ì‹œì  â†’ **ì…ë ¥ ì‹œì°¨(Time-Lag) ë¶„ì„ ê°€ëŠ¥**

**ê¸ˆì•¡ ê´€ë ¨:**
- `mn_bungae1`: ì°¨ë³€ (ìì‚° ì¦ê°€, ë¹„ìš© ë°œìƒ)
- `mn_bungae2`: ëŒ€ë³€ (ìì‚° ê°ì†Œ, ìˆ˜ìµ ë°œìƒ)
- ë³µì‹ë¶€ê¸° ì›ì¹™: `mn_bungae1 - mn_bungae2 = 0` (ëŒ€ì°¨í‰ê· ì˜ ì›ë¦¬)

**ê³„ì •ê³¼ëª© ê´€ë ¨:**
- `cd_acctit`: ê³„ì •ê³¼ëª© ì½”ë“œ
  - `4XXXX`: ìˆ˜ìµ ê³„ì •
  - `5XXXX`, `8XXXX`, `9XXXX`: ë¹„ìš© ê³„ì •
  - `1XXXX`: ìì‚° ê³„ì •
  - `2XXXX`: ë¶€ì±„ ê³„ì •
  - `3XXXX`: ìë³¸ ê³„ì •

**ì „í‘œ êµ¬ë¶„:**
- `nm_yuh`:
  - "ì¼ë°˜ì „í‘œ": ì¼ë°˜ì ì¸ íšŒê³„ ì²˜ë¦¬
  - "ê²°ì‚°ì „í‘œ": ì—°ë§ ê²°ì‚° ì²˜ë¦¬ (ì†ìµ ëŒ€ì²´ ë“±)
- `nm_gubun_prn`:
  - "ì…ê¸ˆ": í˜„ê¸ˆ ìœ ì…
  - "ì¶œê¸ˆ": í˜„ê¸ˆ ìœ ì¶œ
  - "ëŒ€ì²´": ê³„ì • ê°„ ëŒ€ì²´

### 3. ë°ì´í„° íŠ¹ì§•

**2024.json (ì „ê¸°)**
- ë ˆì½”ë“œ ìˆ˜: 7,608ê±´
- ìƒíƒœ: **ì™„ë£Œëœ íšŒê³„ì—°ë„** (í™•ì • ë°ì´í„°)
- ìš©ë„:
  - íŒ¨í„´ í•™ìŠµì˜ ê¸°ì¤€ ë°ì´í„°
  - ì „ë…„ ëŒ€ë¹„ ë¶„ì„
  - AI í•™ìŠµìš© ì •ë‹µ ë°ì´í„°

**2025.json (ë‹¹ê¸°)**
- ë ˆì½”ë“œ ìˆ˜: 3,520ê±´ (2024ë…„ ëŒ€ë¹„ 46%)
- ìƒíƒœ: **ì§„í–‰ ì¤‘** (11ì›” í˜„ì¬)
- íŠ¹ì§•:
  - ì…ë ¥ ì‹œì°¨ ì¡´ì¬ (ì‹¤ì œ ê±°ë˜ vs ì…ë ¥ ì‹œì )
  - ë¶ˆì™„ì „í•œ ë°ì´í„°
  - ì‹¤ì‹œê°„ ì˜ˆì¸¡ í•„ìš”

### 4. ì£¼ì˜ì‚¬í•­

#### ê²°ì‚° ë¶„ê°œ í•„í„°ë§ í•„ìˆ˜

**ë¬¸ì œì :**
```json
// 12ì›” 31ì¼ ê²°ì‚° ë¶„ê°œ ì˜ˆì‹œ
{
  "da_date": "20241231",
  "nm_remark": "ì†ìµ ëŒ€ì²´",
  "nm_gubun_prn": "ê²°ì‚°"
}
```

**í•´ê²°ì±…:**
```python
# ê²°ì‚° ë¶„ê°œ ì œê±° ë¡œì§ (utils.py:40-44)
mask = (df['da_date'].str.endswith('1231')) & (
    remark.str.contains('ì†ìµ|ê²°ì‚°|ëŒ€ì²´', na=False) |
    gubun.str.contains('ê²°ì‚°', na=False)
)
return df[~mask].copy()
```

**ì´ìœ :**
- ê²°ì‚° ë¶„ê°œëŠ” íšŒê³„ ì‹œìŠ¤í…œ ìë™ ìƒì„±
- ì‹¤ì œ ê±°ë˜ê°€ ì•„ë‹˜
- íŒ¨í„´ ë¶„ì„ ì‹œ ë…¸ì´ì¦ˆ ë°œìƒ
- ì†ìµ ì¶”ì„¸ ì™œê³¡ ê°€ëŠ¥

---

## ì‹ ìš©ì¹´ë“œ ë°ì´í„°

### 1. ë°ì´í„° êµ¬ì¡°

#### ì‹ ìš©ì¹´ë“œ_2024.json
```json
{
  "data": [/* 1,587ê±´ì˜ ì¹´ë“œ ê±°ë˜ */],
  "result": "success",
  "total": 1587
}
```

#### ì‹ ìš©ì¹´ë“œ_2025.json
```json
[/* 1,210ê±´ì˜ ì¹´ë“œ ê±°ë˜ */]
```

### 2. ì£¼ìš” í•„ë“œ ì„¤ëª…

```json
{
  "da_sbook": "20240101",          // ì¹´ë“œ ì‚¬ìš©ì¼ì
  "nm_trade": "(ì£¼)ì´ë‹ˆì‹œìŠ¤ - í’€ë¬´ì›",  // ê°€ë§¹ì ëª… (ê±°ë˜ì²˜)
  "mn_total": 255550,              // ì´ ê±°ë˜ ê¸ˆì•¡
  "mn_mnam": 232319,               // ê³µê¸‰ê°€ì•¡
  "mn_vat": 23231,                 // ë¶€ê°€ì„¸

  "ty_jungstat": 3,                // ì „í‘œ ìƒíƒœ ì½”ë“œ â­ ì¤‘ìš”
  "nm_acctit_cha": "(ì†Œ)ì†Œëª¨í’ˆë¹„", // ì¶”ì²œ ê³„ì •ê³¼ëª© (ì°¨ë³€)
  "cd_acctit_cha": "83000",        // ì¶”ì²œ ê³„ì •ê³¼ëª© ì½”ë“œ

  "bisocial_no": "220-81-55597",   // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸
  "bizcond": null,                 // ì—…íƒœ
  "bizcate": null,                 // ì—…ì¢…

  "ty_gongjea": 2,                 // ê³µì œ ì—¬ë¶€ (1: ê³µì œ, 2: ë¶ˆê³µì œ)
  "freetax": 0,                    // ë©´ì„¸ ì—¬ë¶€

  "sq_sbook": 9913,                // ì¹´ë“œ ì „í‘œ ì¼ë ¨ë²ˆí˜¸
  "dt_insert": "..."               // ì…ë ¥ ì‹œì 
}
```

### 3. ì „í‘œ ìƒíƒœ ì½”ë“œ (ty_jungstat) â­ í•µì‹¬

| ì½”ë“œ | ìƒíƒœëª… | ì˜ë¯¸ | ê±´ìˆ˜ (2024) | ë¹„ìœ¨ |
|------|--------|------|-------------|------|
| **2** | **í™•ì •** | íšŒê³„ì²˜ë¦¬ í™•ì •ëœ ê±°ë˜ | **1,255** | **79.1%** |
| **3** | **í™•ì •ê°€ëŠ¥** | í™•ì • ê°€ëŠ¥í•˜ë‚˜ ë¯¸ì²˜ë¦¬ | **136** | **8.6%** |
| **5** | **ì‚­ì œì „í‘œ** | ì·¨ì†Œ/ë°˜í’ˆ/ì˜¤ë¥˜ | **131** | **8.3%** |
| **1** | **ë¯¸ì¶”ì²œ** | íšŒê³„ì²˜ë¦¬ ë¶ˆí•„ìš” (ê°œì¸ì§€ì¶œ?) | **53** | **3.3%** |
| **6** | **ë¶ˆê³µì œ** | ì„¸ê¸ˆ ê³µì œ ì•ˆ ë¨ | **12** | **0.8%** |

### 4. ë¶„ê°œì¥ ë§¤ì¹­ ë¡œì§

**ëª©ì :** ì¹´ë“œë¡œ ê²°ì œí–ˆëŠ”ë° ë¶„ê°œì¥ì— ì…ë ¥ ì•ˆ ëœ ê±°ë˜ ì°¾ê¸°

```python
# ë§¤ì¹­ í‚¤ ìƒì„±
journal_key = da_date + "_" + mn_bungae1  # ì˜ˆ: "20240101_255550"
card_key = da_sbook + "_" + mn_total      # ì˜ˆ: "20240101_255550"

# ëˆ„ë½ ì—¬ë¶€ íŒë‹¨
if card_key not in journal_keys:
    # ë¶„ê°œì¥ì— ì—†ìŒ â†’ ëˆ„ë½ ì˜ì‹¬
```

**í˜„ì¬ Issue #11:**
- ì–´ë–¤ ì „í‘œ ìƒíƒœë¥¼ ë¶„ì„ ëŒ€ìƒìœ¼ë¡œ í• ì§€?
- í˜„ì¬ëŠ” í™•ì •(2)ë§Œ ì²´í¬ â†’ í™•ì •ê°€ëŠ¥(3)ë„ í¬í•¨?

### 5. 2024 vs 2025 ì°¨ì´ì 

**2024ë…„:**
- êµ¬ì¡°: Dict with 'data' array
- ì „í‘œ ìƒíƒœ ë¶„í¬: í™•ì • 79%, í™•ì •ê°€ëŠ¥ 9%, ì‚­ì œ 8%, ë¯¸ì¶”ì²œ 3%, ë¶ˆê³µì œ 1%
- ìš©ë„: ì„¸ë¬´ì‚¬ íŒë‹¨ ê¸°ì¤€ í•™ìŠµ

**2025ë…„:**
- êµ¬ì¡°: List
- ìƒíƒœ: ì§„í–‰ ì¤‘ (ì¼ë¶€ë§Œ í™•ì •)
- ìš©ë„: ì‹¤ì‹œê°„ ëˆ„ë½ ê±°ë˜ íƒì§€

---

## ì¬ë¬´ì œí‘œ ë°ì´í„°

### 1. ì†ìµê³„ì‚°ì„œ (ì†ìµê³„ì‚°ì„œ_24ë…„_25ë…„.json)

#### êµ¬ì¡°
- ë ˆì½”ë“œ ìˆ˜: 28ê°œ
- í˜•íƒœ: ì†ìµê³„ì‚°ì„œ ê³„ì • í•­ëª©ë³„ ë°ì´í„°

#### ì£¼ìš” í•„ë“œ
```json
{
  "nm_acctit": "I. ë§¤ì¶œì•¡",         // ê³„ì •ê³¼ëª©ëª…
  "cd_acctit": "0",                 // ê³„ì •ê³¼ëª© ì½”ë“œ
  "cd_gr": "61000",                 // ê·¸ë£¹ ì½”ë“œ

  "mn_total1": 0,                   // 2024ë…„ ê¸ˆì•¡ (ì „ê¸°)
  "mn_total2": 123812716,           // 2025ë…„ ê¸ˆì•¡ (ë‹¹ê¸°)
  "mn_btotal1": 0,                  // 2024ë…„ ëˆ„ê³„
  "mn_btotal2": 168399913,          // 2025ë…„ ëˆ„ê³„

  "mn_variation_amount": -44587197, // ì¦ê°ì•¡
  "variation_percent": "-26.47",    // ì¦ê°ë¥  (%)

  "percent1": "100.00",             // 2024ë…„ ë¹„ìœ¨
  "percent2": "100.00"              // 2025ë…„ ë¹„ìœ¨
}
```

#### ì†ìµê³„ì‚°ì„œ êµ¬ì¡°
```
I. ë§¤ì¶œì•¡
  - ì œí’ˆë§¤ì¶œ
  - ìƒí’ˆë§¤ì¶œ

II. ë§¤ì¶œì›ê°€
  - ì œí’ˆë§¤ì¶œì›ê°€
  - ìƒí’ˆë§¤ì¶œì›ê°€

III. ë§¤ì¶œì´ì´ìµ = I - II

IV. íŒë§¤ë¹„ì™€ê´€ë¦¬ë¹„
  - ê¸‰ì—¬
  - ë³µë¦¬í›„ìƒë¹„
  - ì„ì°¨ë£Œ
  - ì ‘ëŒ€ë¹„
  - ...

V. ì˜ì—…ì´ìµ = III - IV

VI. ì˜ì—…ì™¸ìˆ˜ìµ
VII. ì˜ì—…ì™¸ë¹„ìš©

VIII. ë²•ì¸ì„¸ì°¨ê°ì „ìˆœì´ìµ

IX. ë‹¹ê¸°ìˆœì´ìµ
```

#### í™œìš© ë°©ë²•
- ì „ê¸°(2024) vs ë‹¹ê¸°(2025) ë¹„êµ
- ë§¤ì¶œì´ì´ìµë¥  = (ë§¤ì¶œì´ì´ìµ / ë§¤ì¶œì•¡) Ã— 100
- íŒê´€ë¹„ìœ¨ = (íŒê´€ë¹„ / ë§¤ì¶œì•¡) Ã— 100
- ì˜ì—…ì´ìµë¥  = (ì˜ì—…ì´ìµ / ë§¤ì¶œì•¡) Ã— 100

---

### 2. í•©ê³„ì”ì•¡ì‹œì‚°í‘œ (í•©ê³„ì”ì•¡ì‹œì‚°í‘œ_24ë…„.json)

#### êµ¬ì¡°
```json
{
  "bigclass_rows": [/* ìì‚°/ë¶€ì±„/ìë³¸ ëŒ€ë¶„ë¥˜ */],
  "main_sum": {/* ì „ì²´ í•©ê³„ */},
  "main_rows": [/* ê³„ì •ê³¼ëª©ë³„ ìƒì„¸ */]
}
```

#### bigclass_rows (ëŒ€ë¶„ë¥˜)
```json
[
  {"nm_group": "ìœ ë™ìì‚°", "nm_default": "ìœ ë™ìì‚°"},
  {"nm_group": "ê³ ì •ìì‚°", "nm_default": "ê³ ì •ìì‚°"},
  {"nm_group": "ìì‚°ì´ê³„", "nm_default": "ìì‚°ì´ê³„"},
  {"nm_group": "ìœ ë™ë¶€ì±„", "nm_default": "ìœ ë™ë¶€ì±„"},
  {"nm_group": "ê³ ì •ë¶€ì±„", "nm_default": "ê³ ì •ë¶€ì±„"},
  {"nm_group": "ë¶€ì±„ì´ê³„", "nm_default": "ë¶€ì±„ì´ê³„"},
  {"nm_group": "ìë³¸ê¸ˆ", "nm_default": "ìë³¸ê¸ˆ"},
  {"nm_group": "ì´ìµì‰ì—¬ê¸ˆ", "nm_default": "ì´ìµì‰ì—¬ê¸ˆ"},
  {"nm_group": "ìë³¸ì´ê³„", "nm_default": "ìë³¸ì´ê³„"},
  {"nm_group": "ë¶€ì±„ì™€ìë³¸ì´ê³„", "nm_default": "ë¶€ì±„ì™€ìë³¸ì´ê³„"}
]
```

#### main_rows (ìƒì„¸ í•­ëª©)
ê³„ì •ê³¼ëª©ë³„ ì°¨ë³€/ëŒ€ë³€/ì”ì•¡ ì •ë³´ í¬í•¨

#### í™œìš© ë°©ë²•
- ì¬ë¬´ìƒíƒœí‘œ ì‘ì„±
- ìœ ë™ë¹„ìœ¨ = (ìœ ë™ìì‚° / ìœ ë™ë¶€ì±„) Ã— 100
- ë¶€ì±„ë¹„ìœ¨ = (ë¶€ì±„ì´ê³„ / ìë³¸ì´ê³„) Ã— 100
- ìê¸°ìë³¸ë¹„ìœ¨ = (ìë³¸ì´ê³„ / ìì‚°ì´ê³„) Ã— 100
- í˜„ê¸ˆíë¦„ ë¶„ì„

---

## ì„¸ë¬´ ë°ì´í„°

### 1. ì†Œë“ì„¸ ì‹ ê³ ì„œ (24ë…„ì†Œë“ì„¸strp0102.json)

#### êµ¬ì¡°
- 1ê°œ ë ˆì½”ë“œ (ì¢…í•©ì†Œë“ì„¸ ì‹ ê³ ì„œ ì–‘ì‹)
- ë§¤ìš° ë§ì€ í•„ë“œ (200ê°œ ì´ìƒ)

#### ì£¼ìš” í•„ë“œ
```json
{
  "nm_krcom": "ë…¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ì§„í¥",    // ì‚¬ì—…ìëª…
  "no_mainsoc": "...",               // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ (ì•”í˜¸í™”)
  "nm_taxoff": "ê´‘ì‚°",               // ê´€í•  ì„¸ë¬´ì„œ

  "ty_incom": 40,                    // ì†Œë“ ì¢…ë¥˜ ì½”ë“œ
  "ty_bubin": 1,                     // ë¶€ë³¸ ìœ í˜•

  "add_com2": "...",                 // ì‚¬ì—…ì¥ ì£¼ì†Œ
  "zip_com": "61011",                // ìš°í¸ë²ˆí˜¸

  // str_XX_X_X, mn_XX_X_X í˜•íƒœì˜ í•„ë“œ ë‹¤ìˆ˜
  // ì‹ ê³ ì„œ ì–‘ì‹ì˜ ê° í•­ëª©ì„ ë‚˜íƒ€ëƒ„
}
```

#### í™œìš© ë°©ë²•
- ì „ë…„ë„ ì†Œë“ì„¸ ì‹ ê³  ë‚´ì—­ í™•ì¸
- ì†Œë“ êµ¬ë¶„ ë° ì„¸ì•¡ ê³„ì‚° ê¸°ì¤€
- ê´€í•  ì„¸ë¬´ì„œ ì •ë³´

---

### 2. ì„¸ë¬´ì¡°ì • ìƒì„¸ (rec_prd.json)

#### êµ¬ì¡°
```json
{
  "PAGE_1": {/* 1í˜ì´ì§€ ë°ì´í„° */},
  "PAGE_2": {/* 2í˜ì´ì§€ ë°ì´í„° */},
  ...
  "PAGE_111": {/* 111í˜ì´ì§€ ë°ì´í„° */}
}
```

ì´ 22ê°œ í˜ì´ì§€ë¡œ êµ¬ì„±

#### í˜ì´ì§€ë³„ ê·¸ë£¹ êµ¬ì¡°
```json
"PAGE_2": {
  "GRP_1": [/* ê·¸ë£¹ 1 í•­ëª©ë“¤ */],
  "GRP_4": [/* ê·¸ë£¹ 4 í•­ëª©ë“¤ */],
  "GRP_7": [],
  ...
}
```

#### ì„¸ë¬´ì¡°ì • í•­ëª© ì˜ˆì‹œ
```json
{
  "page": 2,
  "grp": 4,
  "code": 1,

  "str_1": "115",                    // ì½”ë“œ
  "str_2": "ì¤‘ì†Œê¸°ì—…ì°½ì—…íˆ¬ìì¡°í•©ì¶œì", // í•­ëª©ëª…
  "str_3": "6281800439",             // ì„¸ë¶€ ì½”ë“œ

  "mn_1": 3000000,                   // ì „ê¸° ì´ì›”ì•¡
  "mn_2": 3000000,                   // ë‹¹ê¸° ë°œìƒì•¡
  "mn_3": 3000000,                   // í•©ê³„

  "dt_work": "2025-05-26T20:31:15"   // ì‘ì—… ì¼ì‹œ
}
```

#### ì£¼ìš” ê·¸ë£¹ë³„ ë‚´ìš© (ì¶”ì •)

**PAGE_2 ~ PAGE_5:**
- ì†Œë“ê³µì œ í•­ëª©
- ì¤‘ì†Œê¸°ì—… íˆ¬ì ì„¸ì•¡ê³µì œ
- ë…¸ë€ìš°ì‚°ê³µì œ ë“±

**PAGE_6 ~ PAGE_10:**
- ì„¸ë¬´ì¡°ì • ì‚¬í•­
- ì†ê¸ˆ ë¶ˆì‚°ì…
- ìµê¸ˆ ë¶ˆì‚°ì…

**PAGE_101 ~ PAGE_111:**
- ë¶€í‘œ ë° ëª…ì„¸ì„œ
- ìƒì„¸ ë‚´ì—­

#### í™œìš© ë°©ë²•
- **íƒ€ì†Œë“ í•©ì‚°ì•¡ ì¶”ì¶œ**
- **ì†Œë“ê³µì œ ì´ì•¡** (ë…¸ë€ìš°ì‚° ë“±)
- **ì„¸ì•¡ê°ë©´ ì—¬ë¶€ ë° ê¸ˆì•¡**
- **ë¹„ìš© ë¶€ì¸ì•¡** (ì†ê¸ˆ ë¶ˆì‚°ì…)
- ì •ë°€ ê³¼ì„¸í‘œì¤€ ê³„ì‚°ì— í•„ìˆ˜

---

## ë°ì´í„° ê°„ ê´€ê³„ë„

```
[2021-2024.json ë¶„ê°œì¥] â”€â”€â”€â”€â”€â”€â”
                              â”œâ”€â”€> [íŒ¨í„´ í•™ìŠµ]
[ì‹ ìš©ì¹´ë“œ_2024.json] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
                              â”‚         â†“
         [ë§¤ì¹­ ë¶„ì„] <â”€â”€â”€â”€â”€â”€â”€â”€â”˜    [AI ëª¨ë¸]
              â”‚                       â”‚
              â†“                       â†“
    [ëˆ„ë½ ê±°ë˜ ë°œê²¬]          [ê³„ì •ê³¼ëª© ì¶”ì²œ]
              â”‚                       â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
          [2025.json ë¶„ê°œì¥ ë³´ì •]
                     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â†“              â†“              â†“
[ì†ìµê³„ì‚°ì„œ]    [ì¹´ë“œ ë¯¸ë°˜ì˜]    [í•©ê³„ì”ì•¡í‘œ]
      â”‚              â”‚              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
              [ë³´ì •ëœ ì†ìµ]
                     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â†“              â†“              â†“
[ì†Œë“ì„¸ì‹ ê³ ì„œ]   [rec_prd]    [íƒ€ì†Œë“/ê³µì œ]
      â”‚              â”‚              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
            [ê³¼ì„¸í‘œì¤€ ê³„ì‚°]
                     â†“
              [ì˜ˆìƒ ì„¸ì•¡]
                     â†“
        [ì ˆì„¸ ì‹œë®¬ë ˆì´ì…˜] â”€â”€> [AI ì¡°ì–¸]
```

---

## í™œìš© ê°€ëŠ¥í•œ ë¶„ì„

### ğŸ”¥ Level 1: ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥

#### 1. 5ê°œë…„ íŠ¸ë Œë“œ ë¶„ì„
```python
# 2021-2025 ë¶„ê°œì¥ í†µí•© ë¶„ì„
years = [2021, 2022, 2023, 2024, 2025]
for year in years:
    revenue, expense = calculate_financials(df)
    profit = revenue - expense
    plot_trend(year, revenue, expense, profit)
```

**ì¶œë ¥:**
- ì—°ë„ë³„ ë§¤ì¶œ/ë¹„ìš©/ì´ìµ ì¶”ì´ ê·¸ë˜í”„
- ì›”ë³„ íŒ¨í„´ íˆíŠ¸ë§µ
- ê³„ì ˆì„± ë¶„ì„ (12ì›” ì ‘ëŒ€ë¹„ ê¸‰ì¦ ë“±)

---

#### 2. ì¹´ë“œ-ë¶„ê°œì¥ ë§¤ì¹­ ì—”ì§„

**2024ë…„ (ì „ê¸° ê²€ì¦):**
```python
card_2024 = load_json('ì‹ ìš©ì¹´ë“œ_2024.json')
journal_2024 = load_json('2024.json')

gap_amt, missing_df = analyze_card_gap(journal_2024, card_2024)

# ìƒíƒœë³„ ë¶„ì„
confirmed = missing_df[missing_df['ì „í‘œìƒíƒœ'] == 'í™•ì •']
pending = missing_df[missing_df['ì „í‘œìƒíƒœ'] == 'í™•ì •ê°€ëŠ¥']
deleted = missing_df[missing_df['ì „í‘œìƒíƒœ'] == 'ì‚­ì œì „í‘œ']
```

**ê²°ê³¼:**
- í™•ì •(1,255ê±´) â†’ ë¶„ê°œì¥ ë§¤ì¹­ë¥ : X%
- í™•ì •ê°€ëŠ¥(136ê±´) â†’ ì™œ í™•ì • ì•ˆ í–ˆì„ê¹Œ?
- ì„¸ë¬´ì‚¬ íŒë‹¨ ê¸°ì¤€ í•™ìŠµ

**2025ë…„ (ë‹¹ê¸° ì‹¤ì‹œê°„):**
```python
card_2025 = load_json('ì‹ ìš©ì¹´ë“œ_2025.json')
journal_2025 = load_json('2025.json')

# ì‹¤ì‹œê°„ ëˆ„ë½ íƒì§€
realtime_gap, missing_list = analyze_card_gap(journal_2025, card_2025)

# ê²½ê³  ë©”ì‹œì§€
if realtime_gap > 0:
    alert(f"ë¯¸ë°˜ì˜ ì¹´ë“œ ë‚´ì—­: {realtime_gap:,}ì›")
```

---

#### 3. ì†ìµ ì˜ˆì¸¡ ì‹œë®¬ë ˆì´ì…˜

**í˜„ì¬ ìƒíƒœ (2025ë…„ 11ì›”):**
```python
# ì†ìµê³„ì‚°ì„œ íŒŒì‹±
revenue_24, expense_24 = parse_income_statement(pl_data)

# 2025ë…„ YTD (Year-To-Date)
revenue_ytd, expense_ytd = calculate_financials(df_2025)

# ì§„í–‰ë¥  ê³„ì‚°
progress = len(df_2025) / len(df_2024)  # ì•½ 46%

# ì—°ë§ ì˜ˆì¸¡
revenue_forecast = revenue_ytd / progress
expense_forecast = expense_ytd / progress + card_gap_amt

# ì˜ˆìƒ ì†ìµ
profit_forecast = revenue_forecast - expense_forecast
```

**ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„:**
```python
scenarios = {
    "ë³´ìˆ˜ì ": {"revenue_mult": 0.9, "expense_add": card_gap_amt * 1.5},
    "ì¤‘ë¦½": {"revenue_mult": 1.0, "expense_add": card_gap_amt},
    "ë‚™ê´€ì ": {"revenue_mult": 1.1, "expense_add": card_gap_amt * 0.5}
}

for name, params in scenarios.items():
    forecast = simulate(revenue_ytd, expense_ytd, params)
    display(name, forecast)
```

---

#### 4. ì„¸ê¸ˆ ê³„ì‚° ì‹œë®¬ë ˆì´í„°

**ê³¼ì„¸í‘œì¤€ ê³„ì‚°:**
```python
# ê¸°ë³¸ ì†ìµ
profit_forecast = 56_000_000  # ì˜ˆ: 5,600ë§Œì›

# rec_prd.jsonì—ì„œ ì¶”ì¶œ
other_income = 7_343_097      # íƒ€ì†Œë“
deductions = 16_581_120       # ì†Œë“ê³µì œ
adjustments = 2_535_610       # ì„¸ë¬´ì¡°ì •

# ê³¼ì„¸í‘œì¤€
taxable_income = (profit_forecast + other_income +
                  adjustments - deductions)

# ì†Œë“ì„¸ ê³„ì‚° (ëˆ„ì§„ì„¸ìœ¨)
income_tax = calculate_tax(taxable_income)
local_tax = income_tax * 0.1  # ì§€ë°©ì†Œë“ì„¸

# ì´ ì„¸ê¸ˆ
total_tax = income_tax + local_tax
```

**ì ˆì„¸ ì‹œë®¬ë ˆì´ì…˜:**
```python
# í˜„ì¬: ê³¼ì„¸í‘œì¤€ 4,900ë§Œì› â†’ ì„¸ìœ¨ 15%
# ëª©í‘œ: ê³¼ì„¸í‘œì¤€ 4,800ë§Œì›ìœ¼ë¡œ ë‚®ì¶”ê¸° â†’ ì„¸ìœ¨ 6%ë¡œ í•˜ë½

additional_expense = 100_000_000  # 1ì–µ ì¶”ê°€ ë¹„ìš©
new_taxable = taxable_income - additional_expense
tax_saved = calculate_tax(taxable_income) - calculate_tax(new_taxable)

print(f"ì¶”ê°€ ë¹„ìš©: {additional_expense:,}ì›")
print(f"ì ˆê° ì„¸ê¸ˆ: {tax_saved:,}ì›")
```

---

### ğŸš€ Level 2: ê³ ê¸‰ ë¶„ì„

#### 5. AI íŒ¨í„´ í•™ìŠµ

**ì „ë…„ë„ íŒ¨í„´ í•™ìŠµ:**
```python
# 2024ë…„ ë°ì´í„°ë¡œ í•™ìŠµ
history_map = build_history_map(df_2024)

# ê±°ë˜ì²˜ë³„ ì£¼ë¡œ ì‚¬ìš©í•œ ê³„ì •ê³¼ëª©
for merchant, account in history_map.items():
    print(f"{merchant} â†’ {account}")

# ì˜ˆ:
# "ìŠ¤íƒ€ë²…ìŠ¤" â†’ "ë³µë¦¬í›„ìƒë¹„"
# "GSì¹¼í…ìŠ¤" â†’ "ì°¨ëŸ‰ìœ ì§€ë¹„"
# "ì¿ íŒ¡" â†’ "ì†Œëª¨í’ˆë¹„"
```

**AI ê³„ì •ê³¼ëª© ì¶”ì²œ:**
```python
# 2025ë…„ ë¯¸ë¶„ë¥˜ ì¹´ë“œ ë‚´ì—­
unclassified = get_unclassified_cards(card_2025)

for card in unclassified:
    merchant = card['nm_trade']
    amount = card['mn_total']

    # 1ì°¨: ì „ë…„ë„ ì´ë ¥ í™•ì¸
    if merchant in history_map:
        recommended = history_map[merchant]
    else:
        # 2ì°¨: Gemini APIë¡œ ì¶”ì²œ
        recommended = ai_categorize(merchant, amount)

    card['ì¶”ì²œê³„ì •'] = recommended
```

---

#### 6. í˜„ê¸ˆíë¦„ ì˜ˆì¸¡

```python
# í•©ê³„ì”ì•¡ì‹œì‚°í‘œì—ì„œ í˜„ê¸ˆì„± ìì‚° ì¶”ì¶œ
tb_data = load_json('í•©ê³„ì”ì•¡ì‹œì‚°í‘œ_24ë…„.json')
cash_accounts = filter_cash_accounts(tb_data)

# ë¯¸ìˆ˜ê¸ˆ/ë¯¸ì§€ê¸‰ê¸ˆ ë¶„ì„
receivables = get_receivables(tb_data)
payables = get_payables(tb_data)

# í–¥í›„ 3ê°œì›” í˜„ê¸ˆíë¦„ ì˜ˆì¸¡
for month in [12, 1, 2]:
    expected_inflow = predict_inflow(receivables, month)
    expected_outflow = predict_outflow(payables, month)

    net_cashflow = expected_inflow - expected_outflow

    if net_cashflow < 0:
        warning(f"{month}ì›” í˜„ê¸ˆ ë¶€ì¡± ì˜ˆìƒ: {net_cashflow:,}ì›")
```

---

#### 7. ì´ìƒ ê±°ë˜ íƒì§€

```python
# 5ë…„ ë°ì´í„° ê¸°ë°˜ ì •ìƒ ë²”ìœ„ ì„¤ì •
normal_ranges = calculate_normal_ranges(df_all_years)

# 2025ë…„ ì´ìƒ íŒ¨í„´ íƒì§€
for transaction in df_2025.iterrows():
    account = transaction['cd_acctit']
    amount = transaction['mn_bungae1']

    if amount > normal_ranges[account]['max'] * 2:
        alert(f"ë¹„ì •ìƒ ê¸ˆì•¡: {account} {amount:,}ì›")
```

---

## ğŸ“‹ ë°ì´í„° í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… í™•ì¸ ì‚¬í•­

- [ ] ë¶„ê°œì¥ ëŒ€ì°¨í‰í˜• ê²€ì¦ (`mn_bungae1 - mn_bungae2 = 0`)
- [ ] ê²°ì‚° ë¶„ê°œ í•„í„°ë§ (12/31 ì†ìµ ëŒ€ì²´ ì œê±°)
- [ ] ì¹´ë“œ ì „í‘œ ìƒíƒœ ë¶„í¬ í™•ì¸ (í™•ì • ë¹„ìœ¨)
- [ ] ì…ë ¥ ì‹œì°¨ ë¶„ì„ (`da_date` vs `dt_insert`)
- [ ] ì†ìµê³„ì‚°ì„œ ê²€ì¦ (ë§¤ì¶œ - ë¹„ìš© = ìˆœì´ìµ)
- [ ] í•©ê³„ì”ì•¡ì‹œì‚°í‘œ ê· í˜• (ìì‚° = ë¶€ì±„ + ìë³¸)
- [ ] ì¤‘ë³µ ê±°ë˜ ì œê±°
- [ ] íŠ¹ìˆ˜ë¬¸ì ì¸ì½”ë”© í™•ì¸

### âš ï¸ ì£¼ì˜ì‚¬í•­

- í•œê¸€ ì¸ì½”ë”©: UTF-8 ì‚¬ìš© í•„ìˆ˜
- NULL ì²˜ë¦¬: `None`, `null`, `""` êµ¬ë¶„
- ë‚ ì§œ í˜•ì‹: `YYYYMMDD` ë¬¸ìì—´
- ê¸ˆì•¡ í˜•ì‹: ì •ìˆ˜ (ì› ë‹¨ìœ„)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### Phase 1: ê¸°ì´ˆ ë¶„ì„ (1ì£¼)
1. âœ… ë°ì´í„° êµ¬ì¡° íŒŒì•… ì™„ë£Œ
2. â³ ì¹´ë“œ-ë¶„ê°œì¥ ë§¤ì¹­ ë¡œì§ ê°œì„  (Issue #11)
3. â³ 2025ë…„ ì†ìµ ì˜ˆì¸¡ ëª¨ë“ˆ êµ¬í˜„ (Issue #4, #5)

### Phase 2: ê³ ê¸‰ ë¶„ì„ (1ì£¼)
4. â³ ì„¸ê¸ˆ ê³„ì‚° ì‹œë®¬ë ˆì´í„° (Issue #6)
5. â³ AI íŒ¨í„´ í•™ìŠµ ë° ì¶”ì²œ (Issue #10)
6. â³ ëŒ€ì‹œë³´ë“œ UI ì™„ì„± (Issue #7, #8, #9)

### Phase 3: ìµœì í™” (1ì£¼)
7. â³ ì„±ëŠ¥ ìµœì í™”
8. â³ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
9. â³ ë¬¸ì„œí™” ì™„ì„±

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [CLAUDE.md](../CLAUDE.md) - í”„ë¡œì íŠ¸ ê°œìš”
- [Project_Financial_Analysis_Spec.md](Project_Financial_Analysis_Spec.md) - ê¸°íšì„œ V1
- [Project_Financial_Analysis_Spec_v2.md](Project_Financial_Analysis_Spec_v2.md) - ê¸°íšì„œ V2
- [Issue #11](https://github.com/dexelop/no_code_analyse/issues/11) - ì¹´ë“œ ë§¤ì¹­ ë¡œì§ ê°œì„  ë…¼ì˜

---

**ë¬¸ì„œ ìƒì„± ì •ë³´:**
- ì‘ì„±ì: Claude (AI)
- ë¶„ì„ ë„êµ¬: Python (pandas, json)
- ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-18
